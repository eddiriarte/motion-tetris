{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./projekt/darstellung/tetris.scss?6367","webpack:///./projekt/darstellung/tetris.scss","webpack:///./node_modules/css-loader/lib/url/escape.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./projekt/schriften/KarmaticArcade.woff2","webpack:///./projekt/schriften/KarmaticArcade.woff","webpack:///./projekt/schriften/KarmaticArcade.ttf","webpack:///./projekt/schriften/KarmaticArcade.svg","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/gest/src/gest.js","webpack:///./projekt/skripte/AudioSpieler.js","webpack:///./projekt/skripte/Figuren.js","webpack:///./projekt/skripte/Kollision.js","webpack:///./projekt/skripte/Tetromino.js","webpack:///./projekt/skripte/Welt.js","webpack:///./projekt/skripte/GestenAdapter.js","webpack:///./projekt/skripte/Tetris.js","webpack:///./projekt/skripte/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","transform","undefined","locals","escape","push","url","test","slice","replace","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getTarget","target","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","gest","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","stream","video","canvas","context","gestContainer","settings","framerate","videoCompressionRate","sensitivity","skinFilter","debug","state","gestIsInitialised","userHasAskedToStart","_singletonInstance","_DOMready","utils","removeEventListener","body","init","start","readyState","addEventListener","dispatchGestEvent","_gestEvent","eventObj","createCustomEvent","direction","up","down","left","right","error","fireEvent","canPlayType","getContext","width","height","throwError","_code","_obj","_error","code","message","console","huemin","huemax","satmin","satmax","valmin","valmax","rgb2hsv","g","b","h","max","Math","min","v","currentFrame","indexValue","countDataBigAry","y","x","data","a","hsv","differenceMap","priorFrame","delt","createImageData","totalx","totaly","totald","pix","abs","floor","lookForGesture","search","putImageData","prior","filteringFactor","filteredTotal","minTotalChange","minDirChange","longDirChange","_movement","movement","good","dx","dy","dirx","htmlEvents","onload","onunload","onblur","onchange","onfocus","onreset","onselect","onsubmit","onabort","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","evntName","elem","func","attachEvent","detachEvent","evnt","createEvent","initEvent","createEventObject","eventType","evntElement","evntObj","dispatchEvent","paused","ended","seeking","HAVE_FUTURE_DATA","audio","_LocalMediaStream","webkitURL","srcObject","play","getBoundingClientRect","setInterval","drawImage","getImageData","grabVideoFrame","PERMISSION_DENIED","NOT_SUPPORTED_ERROR","MANDATORY_UNSATISFIED_ERROR","stop","log","src","getTracks","subscribeWithCallback","callback","gesture","_value","_state","getElementById","innerHTML","musikSchalter","songPlayer","musikAn","assign","audioSchalterGedruckt","pause","classList","add","O","I","L","J","S","Z","T","kollidiertNachLinks","welt","stein","muster","every","spaltenListe","zeile","tetroZelle","spalte","kollidiertNachRechts","kollidiertNachUnten","naechsteWeltZeile","zelle","weltSpalte","kollidiert","weltZelle","laenge","neueZeile","reverse","istNichtAufZelle","weltContainer","tetroVoschauContainer","punkteContainer","zeilenAnzahlContainer","levelContainer","weltErzeugen","hoehe","breite","Array","fill","weltContainerInitialisieren","prefix","zellen","reduce","spalten","_","tetroVorschauContainerInitialisieren","raster","tetroStyleNamen","1","2","3","4","5","6","7","weltRasterAktualisieren","tetro","istAufZelle","tetroVorschauAktualisieren","className","tetroAufWeltAblegen","spaltenList","tetroZeile","tetroSpalte","findeVolleZeilen","_volleZeilen","some","loescheWeltZeile","tetris","aktualisieren","spielAnzeigenAktualisieren","punkte","zeilen","level","innerText","substr","kameraSchalter","kameraAn","gestenHaendler","gestenHandlerSetzen","haendler","gestenHandlerLoeschen","gestenLauschBeenden","gestenLauschStarten","warn","kameraSchalterGedruckt","defaultOptions","weltZellenPrefix","vorschauZellenPrefix","containerId","naechsteTetroId","punkteId","zeilenTotalId","zufaelligenBaustein","steine","zufaelligenStein","random","tetromino","gestartet","zeilenAnzahl","naechstesTetro","spielZeitSchleife","tastenLauscher","tastenEventsBehandeln","gestenEventsBehandeln","stopZeitSchleife","kannNachUnten","nachUnten","tetroAblegen","zeitSchleife","setTimeout","levelGeschwindigkeit","clearTimeout","kannNachLinks","nachLinks","kannNachRechts","nachRechts","tetroNachUntenSchieben","gameOver","gefuellteZeilenLoeschen","counter","event","keyCode","tetroNachLinksBewegen","tetroNachRechtsBewegen","drehen","geste","starten"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./tetris.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./tetris.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./tetris.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Monda:400,700);\", \"\"]);\n\n// module\nexports.push([module.id, \"@font-face{font-family:'Karmatic Arcade';src:url(\" + escape(require(\"../schriften/KarmaticArcade.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../schriften/KarmaticArcade.woff\")) + \") format(\\\"woff\\\"),url(\" + escape(require(\"../schriften/KarmaticArcade.ttf\")) + \") format(\\\"truetype\\\"),url(\" + escape(require(\"../schriften/KarmaticArcade.svg\")) + \"#KarmaticArcade) format(\\\"svg\\\");font-weight:normal;font-style:normal}body{background:#eee;font-family:'Monda', sans-serif}h1,h2,h3,h4{font-family:'Karmatic Arcade'}h2{margin-top:0;margin-bottom:10px;color:#95a5a6;font-size:2.2em}h2 .punkte{color:#34495e}#seite{width:90%;margin:60px auto}#tetris{background:#34495e;border:10px solid #95a5a6;width:auto;display:inline-block;position:relative}#tetris .modal{color:#ecf0f1;position:absolute;padding:30px 60px;background:#34495e;width:200px;text-align:center;top:80px;margin-left:50%;transform:translateX(-50%);box-shadow:1px 1px 2px 3px #7f8c8d}#tetris .modal h3{margin-top:0}#tetris .modal button{outline:0;border:0;color:#2c3e50;background-color:#ecf0f1;padding:8px 16px;font-size:1.3em}#menu{display:inline-block;vertical-align:top;width:400px;margin-left:30px}#vorschau,#gest{background:#34495e;border:10px solid #95a5a6;display:inline-block;position:relative;margin:auto;width:auto;margin-top:16px}#gest{width:480px;height:300px}#steuerung{display:inline-block;vertical-align:top;margin-top:15px;margin-left:10px}#tetris-song{display:none}#hidden-gest{position:absolute;left:-2000px}.container{display:flex;justify-content:space-between}.spalte{width:calc(50% - 20px)}.welt{text-align:right}.beschreibung{padding:1px 30px;background-color:rgba(149,165,166,0.2);margin-bottom:15px}.raster{background:#34495e;border:10px solid #95a5a6;display:inline-block;position:relative;margin:auto;width:auto}.btn{outline:0;border:0;color:#ecf0f1;background-color:#3498db;padding:8px 16px;font-size:1.3em;width:calc(50% - 20px);margin-right:10px;margin-bottom:10px}.btn:hover{background-color:#2980b9}.btn.hell{color:#2c3e50;background-color:#ecf0f1}.kreis-btn{width:64px;height:64px;border-radius:50%;border:none;background-color:#fff;box-shadow:0px 5px #bbb;position:relative;outline:none}.kreis-btn .an{display:none}.kreis-btn .aus{display:block}.kreis-btn:hover{background-color:#bbb}.kreis-btn.aktiv{background-color:#3498db;box-shadow:0px 5px #2980b9}.kreis-btn.aktiv:hover{background-color:#2980b9}.kreis-btn.aktiv .an{display:block}.kreis-btn.aktiv .aus{display:none}.kreis-btn img{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.eingabe{outline:0;border:1px solid #ecf0f1;padding:8px 10px;font-size:1.3em;width:calc(50% - 20px);margin-right:10px;margin-bottom:10px}.eingabe:focus{border-color:#2980b9}.eingabe-beschreibung{display:block;text-transform:uppercase;font-size:0.8em;font-weight:bold}.tetro{display:inline-grid;outline-offset:inherit;border-width:10px;border-style:inset;border-color:#34495E;width:20px;height:20px;margin:0;opacity:0.3}.tetro.complete,.tetro.gefuellt{background-color:#fff;border-color:#bbb;border-style:ridge;opacity:1}.tetro.J{background-color:#f3a683;border-color:#f19066}.tetro.I{background-color:#feca57;border-color:#feca57}.tetro.L{background-color:#c8d6e5;border-color:#c8d6e5}.tetro.O{background-color:#ff9ff3;border-color:#ff9ff3}.tetro.S{background-color:#1dd1a1;border-color:#1dd1a1}.tetro.T{background-color:#ff6b6b;border-color:#ff6b6b}.tetro.Z{background-color:#48dbfb;border-color:#48dbfb}\\n\", \"\"]);\n\n// exports\n","module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __webpack_public_path__ + \"50e3e848db19649def1b1e376be63d5a.woff2\";","module.exports = __webpack_public_path__ + \"97fd9c3cfb6593130927fdb15b8d9a96.woff\";","module.exports = __webpack_public_path__ + \"6679d745bec2b8d1f9d0a134d3a07f1f.ttf\";","module.exports = __webpack_public_path__ + \"db7a1b79311ba79f7db41ba84ed3155a.svg\";","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/* \n * @name: gest.js\n * @description: gest.js is a webcam based gesture recognition library that helps developers make webpages more immersive\n * @version: 0.5.0\n * @author: Hadi Michael (http://hadi.io)\n * @acknowledgements: gest.js is an extension of work started by William Wu (https://github.com/wvvvw)\n * @license: MIT License\n\tThe MIT License (MIT)\n\n\tCopyright (c) 2013-2014 Hadi Michael (http://hadi.io)\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy\n\tof this software and associated documentation files (the \"Software\"), to deal\n\tin the Software without restriction, including without limitation the rights\n\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\tcopies of the Software, and to permit persons to whom the Software is\n\tfurnished to do so, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in\n\tall copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\tTHE SOFTWARE.\n*/\n\nwindow.gest = (function (window) {\n\t\"use strict\";\n\n\t//setup getUserMedia - this could screw up another implementation of getUserMedia on the page, but really, they shouldn't be using the camera for anything else\n\tnavigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\n\t//initialise default settings\n\tvar settings = {\n\t\tframerate: 25,\n\t\tvideoCompressionRate: 4,\n\t\tsensitivity: 80,\t//value from 0 to 100 (100 => very sensitive)\n\t\tskinFilter: false,\n\t\tdebug: {\n\t\t\tstate: false,\n\t\t\tcanvas: null,\n\t\t\tcontext: null\n\t\t}\n\t},\n\n\t\t//manage gest's run states - I do this is to keep track of what the user wants to do and where gest is up to in it's initialisation\n\t\tgestIsInitialised = false,\n\t\tuserHasAskedToStart = false,\n\n\t\t//declare global stream object that we can stop at any point\n\t\tstream,\n\n\t\t//declare DOM elements\n\t\tvideo, canvas, context, gestContainer,\n\n\t\t/* @constructor */\n\t\tgest = function () {\n\t\t\t//use singleton design pattern - adopted from https://code.google.com/p/jslibs/wiki/JavascriptTips#Singleton_pattern\n\t\t\t//this shouldn't *really* be a problem, because we only ever return a single instance\n\t\t\tif (gest.prototype._singletonInstance) {\n\t\t\t\treturn gest.prototype._singletonInstance;\n\t\t\t}\n\t\t\tgest.prototype._singletonInstance = this;\n\n\t\t\t//check if the dom is already ready - this technique is borrowed from jQuery\n\t\t\tif (document.readyState === 'complete') {\n\t\t\t\t_DOMready.call();\n\t\t\t} else {\n\t\t\t\t//otherwise wait for DOM to be ready before initialising\n\t\t\t\tutils.addEventListener('DOMContentLoaded', document, _DOMready);\n\n\t\t\t\t//fallback to window.onload, this will always work\n\t\t\t\tutils.addEventListener('load', window, _DOMready);\n\t\t\t}\n\n\t\t\t//the ready event handler and self cleanup method\n\t\t\tfunction _DOMready() {\n\t\t\t\tutils.removeEventListener('DOMContentLoaded', document, _DOMready);\n\t\t\t\tutils.removeEventListener('load', window, _DOMready);\n\n\t\t\t\tgestContainer = document.createElement('aside');\n\t\t\t\tgestContainer.id = 'hidden-gest';\n\t\t\t\tdocument.body.appendChild(gestContainer);\n\n\t\t\t\t//we need to call and wait for init to finish before we know that we are actually ready\n\t\t\t\tif (init()) { gestIsInitialised = true; }\n\n\t\t\t\tif (userHasAskedToStart && gestIsInitialised) {\n\t\t\t\t\t//the user has already asked us to start, but we weren't ready. Now we are... let's try again\n\t\t\t\t\treturn window.gest.start();\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/* @private */\n\t\tdispatchGestEvent = function (_gestEvent) {\n\t\t\t//console.log(_gestEvent);\n\t\t\tvar eventObj = utils.createCustomEvent('gest', document);\n\n\t\t\t//setup the event object with gesture information\n\t\t\teventObj.direction = _gestEvent.direction || null;\t//direction as a string, ex. left, right, up, down\n\t\t\teventObj.up = _gestEvent.up || false;\t\t\t\t//bool\n\t\t\teventObj.down = _gestEvent.down || false;\t\t\t//bool\n\t\t\teventObj.left = _gestEvent.left || false;\t\t\t//bool\n\t\t\teventObj.right = _gestEvent.right || false;\t\t\t//bool\n\t\t\teventObj.error = _gestEvent.error || null;\t\t\t//error message as an object {error (int), message (string)}\n\n\t\t\t//fire eventObj\n\t\t\tutils.fireEvent(eventObj);\n\t\t},\n\n\t\t/* @private */\n\t\tinit = function () {\n\t\t\t//create required DOM elements\n\t\t\tvideo = document.createElement('video');\n\t\t\tcanvas = document.createElement('canvas');\n\n\t\t\tif (!!video.canPlayType && !!(canvas.getContext && canvas.getContext('2d')) && !!navigator.getUserMedia) { //check browser support\n\t\t\t\t//setup DOM elements\n\n\t\t\t\tvideo.width = 480;\n\t\t\t\tvideo.height = 300;\n\t\t\t\tvideo.setAttribute('style', 'visibility: hidden;');\n\t\t\t\t// document.body.appendChild(video);\n\t\t\t\tgestContainer.appendChild(video);\n\n\t\t\t\tcanvas.setAttribute('style', 'width: 480px; display: none;');\n\t\t\t\t// document.body.appendChild(canvas);\n\t\t\t\tgestContainer.appendChild(canvas);\n\t\t\t\tcontext = canvas.getContext('2d');\n\t\t\t} else {\n\t\t\t\tthrowError(0);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/* @private */\n\t\tthrowError = function (_code, _obj) {\n\t\t\t// setup up error codes\n\t\t\tvar _error;\n\n\t\t\tswitch (_code) {\n\t\t\t\tcase 0:\n\t\t\t\t\t_error = { code: _code, message: 'gest.js can\\'t run in your browser :(' };\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_error = { code: _code, message: 'gest.js could not start.' };\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\t_error = { code: _code, message: 'gest.js has already started.' };\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 10:\n\t\t\t\t\t_error = { code: _code, message: 'DEEENIED! gest.js needs webcam access.', obj: _obj };\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 11:\n\t\t\t\t\t_error = { code: _code, message: 'A constraint specified is not supported by the web-browser.', obj: _obj };\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 12:\n\t\t\t\t\t_error = { code: _code, message: 'No media tracks of the type specified in the constraints are found.', obj: _obj };\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 13:\n\t\t\t\t\t_error = { code: _code, message: 'Couldn\\'t get access to webcam.', obj: _obj };\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t_error = null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t//tell the developer and user about the error\n\t\t\tif (settings.debug.state) { console.error(_error.message); }\n\t\t\tdispatchGestEvent({ error: _error });\n\t\t},\n\n\t\t/* @private */\n\t\tgrabVideoFrame = function (width, height) {\n\t\t\t//grab a frame from the video and compress it to the width/height specified - we do this by drawing it onto a temporary canvas\n\t\t\ttry {\n\t\t\t\t//copy the get the current frame from the video and draw it (compressed) on the canvas\n\t\t\t\tcontext.drawImage(video, 0, 0, width, height);\n\n\t\t\t\tvar currentFrame = context.getImageData(0, 0, width, height);\n\n\t\t\t\t//calculate the difference map\n\t\t\t\tif (settings.skinFilter) {\n\t\t\t\t\tdifferenceMap.get(skinFilter.apply(currentFrame), settings.sensitivity, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tdifferenceMap.get(currentFrame, settings.sensitivity, width, height);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (e.name === \"NS_ERROR_NOT_AVAILABLE\") {\n\t\t\t\t\t//firefox isn't ready yet... hang tight, it'll kick in shortly\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/* @private */\n\t\t/* skin filtering using HUE (colour) SATURATION (dominance of the colour) VALUE (brightness of the colour) \n\t\t * this algorithms reliability is heavily dependant on lighting conditions - see this journal article http://wwwsst.ums.edu.my/data/file/Su7YcHiV9AK5.pdf\n\t\t */\n\t\tskinFilter = {\n\t\t\t//TODO: fine tune these values\n\t\t\thuemin: 0.0,\n\t\t\thuemax: 0.1,\n\t\t\tsatmin: 0.3,\n\t\t\tsatmax: 1.0,\n\t\t\tvalmin: 0.4,\n\t\t\tvalmax: 1.0,\n\t\t\trgb2hsv: function (r, g, b) {\n\t\t\t\tr = r / 255;\n\t\t\t\tg = g / 255;\n\t\t\t\tb = b / 255;\n\n\t\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\t\tmin = Math.min(r, g, b),\n\n\t\t\t\t\th, s, v = max,\n\n\t\t\t\t\td = max - min;\n\n\t\t\t\tif (max === 0) {\n\t\t\t\t\ts = 0;\n\t\t\t\t} else {\n\t\t\t\t\ts = d / max;\n\t\t\t\t}\n\n\t\t\t\tif (max == min) {\n\t\t\t\t\th = 0; // achromatic\n\t\t\t\t} else {\n\t\t\t\t\tswitch (max) {\n\t\t\t\t\t\tcase r:\n\t\t\t\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase g:\n\t\t\t\t\t\t\th = (b - r) / d + 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase b:\n\t\t\t\t\t\t\th = (r - g) / d + 4;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\th /= 6;\n\t\t\t\t}\n\n\t\t\t\treturn [h, s, v];\n\t\t\t},\n\t\t\tapply: function (currentFrame) {\n\t\t\t\tvar totalPix = currentFrame.width * currentFrame.height,\n\t\t\t\t\tindexValue = totalPix * 4,\n\t\t\t\t\tcountDataBigAry = 0;\n\n\t\t\t\tfor (var y = 0; y < currentFrame.height; y++) {\n\t\t\t\t\tfor (var x = 0; x < currentFrame.width; x++) {\n\t\t\t\t\t\tindexValue = x + y * currentFrame.width;\n\t\t\t\t\t\tvar r = currentFrame.data[countDataBigAry],\n\t\t\t\t\t\t\tg = currentFrame.data[countDataBigAry + 1],\n\t\t\t\t\t\t\tb = currentFrame.data[countDataBigAry + 2],\n\t\t\t\t\t\t\ta = currentFrame.data[countDataBigAry + 3],\n\n\t\t\t\t\t\t\thsv = this.rgb2hsv(r, g, b);\n\n\t\t\t\t\t\t//when the hand is too close (hsv[0] > 0.59 && hsv[0] < 1.0)\n\t\t\t\t\t\t//skin range on HSV values\n\t\t\t\t\t\tif (((hsv[0] > this.huemin && hsv[0] < this.huemax) || (hsv[0] > 0.59 && hsv[0] < 1.0)) && (hsv[1] > this.satmin && hsv[1] < this.satmax) && (hsv[2] > this.valmin && hsv[2] < this.valmax)) {\n\t\t\t\t\t\t\tcurrentFrame[countDataBigAry] = r;\n\t\t\t\t\t\t\tcurrentFrame[countDataBigAry + 1] = g;\n\t\t\t\t\t\t\tcurrentFrame[countDataBigAry + 2] = b;\n\t\t\t\t\t\t\tcurrentFrame[countDataBigAry + 3] = a;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentFrame.data[countDataBigAry] = 255;\n\t\t\t\t\t\t\tcurrentFrame.data[countDataBigAry + 1] = 255;\n\t\t\t\t\t\t\tcurrentFrame.data[countDataBigAry + 2] = 255;\n\t\t\t\t\t\t\tcurrentFrame.data[countDataBigAry + 3] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcountDataBigAry = indexValue * 4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn currentFrame;\n\t\t\t}\n\t\t},\n\n\t\t/* @private */\n\t\tdifferenceMap = {\n\t\t\tpriorFrame: false,\n\n\t\t\tget: function (currentFrame, sensitivity, width, height) {\n\t\t\t\tvar delt = context.createImageData(width, height),\n\t\t\t\t\ttotalx = 0,\n\t\t\t\t\ttotaly = 0,\n\t\t\t\t\ttotald = 0; //total number of changed pixels\n\n\t\t\t\tif (this.priorFrame !== false) {\n\t\t\t\t\tvar totaln = delt.width * delt.height,\n\t\t\t\t\t\tpix = totaln * 4,\n\t\t\t\t\t\tmaxAssessableColorChange = 256 * 3;\n\n\t\t\t\t\twhile ((pix -= 4) >= 0) {\n\t\t\t\t\t\t//find the total change in color for this pixel-set\n\t\t\t\t\t\tvar d = Math.abs(currentFrame.data[pix] - this.priorFrame.data[pix]) +\n\t\t\t\t\t\t\tMath.abs(currentFrame.data[pix + 1] - this.priorFrame.data[pix + 1]) +\n\t\t\t\t\t\t\tMath.abs(currentFrame.data[pix + 2] - this.priorFrame.data[pix + 2]); //don't do [pix+3] because alpha doesn't change\n\n\t\t\t\t\t\tif (d > maxAssessableColorChange * Math.abs((sensitivity - 100) / 100)) {\n\t\t\t\t\t\t\t//if there has been significant change in color, mark the changed pixel\n\t\t\t\t\t\t\tdelt.data[pix] = 255;\t//R\n\t\t\t\t\t\t\tdelt.data[pix + 1] = 0;\t//G\n\t\t\t\t\t\t\tdelt.data[pix + 2] = 0;\t//B\n\t\t\t\t\t\t\tdelt.data[pix + 3] = 255;\t//alpha\n\t\t\t\t\t\t\ttotald += 1;\n\t\t\t\t\t\t\ttotalx += ((pix / 4) % delt.width);\n\t\t\t\t\t\t\ttotaly += (Math.floor((pix / 4) / delt.height));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//otherwise keep it the same color\n\t\t\t\t\t\t\tdelt.data[pix] = currentFrame.data[pix];\n\t\t\t\t\t\t\tdelt.data[pix + 1] = currentFrame.data[pix + 1];\n\t\t\t\t\t\t\tdelt.data[pix + 2] = currentFrame.data[pix + 2];\n\t\t\t\t\t\t\tdelt.data[pix + 3] = currentFrame.data[pix + 3]; //change to 0 to hide user video\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//console.log(totald);\n\t\t\t\tif (totald > 0) {\n\t\t\t\t\t//if any pixels have changed, check for a gesture\n\t\t\t\t\tlookForGesture.search({ x: totalx, y: totaly, d: totald });\n\n\t\t\t\t\t//show in debug canvas\n\t\t\t\t\tif (settings.debug.state && settings.debug.context.putImageData) {\n\t\t\t\t\t\tsettings.debug.canvas.width = width;\n\t\t\t\t\t\tsettings.debug.canvas.height = height;\n\t\t\t\t\t\tsettings.debug.context.putImageData(delt, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.priorFrame = currentFrame;\n\t\t\t}\n\t\t},\n\n\t\t/* @private */\n\t\tlookForGesture = {\n\t\t\tprior: false,\n\t\t\tfilteringFactor: 0.9,\n\t\t\tfilteredTotal: 0,\t\t//number of changed pixel after filtering\n\t\t\tminTotalChange: 300,\t//minimum total number of pixels that need to change, before we decide that a gesture is happening\n\t\t\tminDirChange: 2,\t\t//minimum number of pixels that need to change to assert a directional change\n\t\t\tlongDirChange: 7,\t\t//minimum number of pixels that need to change to assert a LONG directional change\n\t\t\tstate: 0,\t\t\t\t//States: 0 waiting for gesture, 1 waiting for next move after gesture, 2 waiting for gesture to end\n\t\t\tsearch: function (_movement) {\n\t\t\t\tvar movement = {\n\t\t\t\t\tx: _movement.x / _movement.d,\n\t\t\t\t\ty: _movement.y / _movement.d,\n\t\t\t\t\td: _movement.d //delta (or total change)\n\t\t\t\t};\n\n\t\t\t\t//filtering\n\t\t\t\tthis.filteredTotal = (this.filteringFactor * this.filteredTotal) + ((1 - this.filteringFactor) * movement.d);\n\n\t\t\t\tvar dfilteredTotal = movement.d - this.filteredTotal,\n\t\t\t\t\tgood = dfilteredTotal > this.minTotalChange; //check that total pixel change is grater than threshold\n\n\t\t\t\t//console.log(good, dfilteredTotal);\n\t\t\t\tswitch (this.state) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tif (good) {\n\t\t\t\t\t\t\t//found a gesture, waiting for next move\n\t\t\t\t\t\t\tthis.state = 1;\n\t\t\t\t\t\t\tlookForGesture.prior = movement;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\t//got next move, do something based on direction\n\t\t\t\t\t\tthis.state = 2;\n\n\t\t\t\t\t\tvar dx = movement.x - lookForGesture.prior.x,\n\t\t\t\t\t\t\tdy = movement.y - lookForGesture.prior.y,\n\n\t\t\t\t\t\t\tdirx = Math.abs(dy) < Math.abs(dx); //(dx,dy) is on a bowtie\n\n\t\t\t\t\t\t//console.log(dirx, dx, dy);\n\t\t\t\t\t\tif (dx < -this.minDirChange && dirx) {\n\t\t\t\t\t\t\tdispatchGestEvent({\n\t\t\t\t\t\t\t\tdirection: 'Right',\n\t\t\t\t\t\t\t\tright: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (dx > this.minDirChange && dirx) {\n\t\t\t\t\t\t\tdispatchGestEvent({\n\t\t\t\t\t\t\t\tdirection: 'Left',\n\t\t\t\t\t\t\t\tleft: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (dy > this.minDirChange && !dirx) {\n\t\t\t\t\t\t\tif (Math.abs(dy) > this.longDirChange) {\n\t\t\t\t\t\t\t\tdispatchGestEvent({\n\t\t\t\t\t\t\t\t\tdirection: 'Long down',\n\t\t\t\t\t\t\t\t\tdown: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdispatchGestEvent({\n\t\t\t\t\t\t\t\t\tdirection: 'Down',\n\t\t\t\t\t\t\t\t\tdown: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dy < -this.minDirChange && !dirx) {\n\t\t\t\t\t\t\tif (Math.abs(dy) > this.longDirChange) {\n\t\t\t\t\t\t\t\tdispatchGestEvent({\n\t\t\t\t\t\t\t\t\tdirection: 'Long up',\n\t\t\t\t\t\t\t\t\tup: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdispatchGestEvent({\n\t\t\t\t\t\t\t\t\tdirection: 'Up',\n\t\t\t\t\t\t\t\t\tup: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\t//wait for gesture to end\n\t\t\t\t\t\tif (!good) {\n\t\t\t\t\t\t\tthis.state = 0; //gesture ended\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/* @private */\n\t\tutils = {\n\t\t\t/* Event Handling utility by @hadi_michael - MIT License */\n\t\t\thtmlEvents: { //list of real events\n\t\t\t\t//<body> and <frameset> Events\n\t\t\t\tonload: 1,\n\t\t\t\tonunload: 1,\n\t\t\t\t//Form Events\n\t\t\t\tonblur: 1,\n\t\t\t\tonchange: 1,\n\t\t\t\tonfocus: 1,\n\t\t\t\tonreset: 1,\n\t\t\t\tonselect: 1,\n\t\t\t\tonsubmit: 1,\n\t\t\t\t//Image Events\n\t\t\t\tonabort: 1,\n\t\t\t\t//Keyboard Events\n\t\t\t\tonkeydown: 1,\n\t\t\t\tonkeypress: 1,\n\t\t\t\tonkeyup: 1,\n\t\t\t\t//Mouse Events\n\t\t\t\tonclick: 1,\n\t\t\t\tondblclick: 1,\n\t\t\t\tonmousedown: 1,\n\t\t\t\tonmousemove: 1,\n\t\t\t\tonmouseout: 1,\n\t\t\t\tonmouseover: 1,\n\t\t\t\tonmouseup: 1\n\t\t\t},\n\n\t\t\taddEventListener: function (evntName, elem, func) {\n\t\t\t\tif (elem.addEventListener)  //W3C\n\t\t\t\t\telem.addEventListener(evntName, func, false);\n\t\t\t\telse if (elem.attachEvent && this.htmlEvents['on' + evntName]) { //OLD IE < 9\n\t\t\t\t\telem.attachEvent('on' + evntName, func);\n\t\t\t\t} else {\n\t\t\t\t\telem['on' + evntName] = func;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tremoveEventListener: function (evntName, elem, func) {\n\t\t\t\tif (elem.removeEventListener)  //W3C\n\t\t\t\t\telem.removeEventListener(evntName, func, false);\n\t\t\t\telse if (elem.detachEvent && this.htmlEvents['on' + evntName]) { //OLD IE < 9\n\t\t\t\t\telem.detachEvent('on' + evntName, func);\n\t\t\t\t} else {\n\t\t\t\t\telem['on' + evntName] = null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcreateCustomEvent: function (evntName, elem) {\n\t\t\t\ttry {\n\t\t\t\t\tvar evnt;\n\t\t\t\t\tif (elem.createEvent) { //W3C\n\t\t\t\t\t\tevnt = elem.createEvent('Event');\n\t\t\t\t\t\tevnt.initEvent(evntName, true, true);\n\t\t\t\t\t} else if (elem.createEventObject) { //OLD IE < 9\n\t\t\t\t\t\tevnt = elem.createEventObject();\n\t\t\t\t\t\tevnt.eventType = evntName;\n\t\t\t\t\t}\n\t\t\t\t\tevnt.evntName = evntName;\n\t\t\t\t\tevnt.evntElement = elem;\n\t\t\t\t\treturn evnt;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfireEvent: function (evntObj) {\n\t\t\t\ttry {\n\t\t\t\t\tif (evntObj.evntElement.dispatchEvent) {\n\t\t\t\t\t\tevntObj.evntElement.dispatchEvent(evntObj);\n\t\t\t\t\t} else if (evntObj.evntElement.fireEvent && this.htmlEvents['on' + evntObj.evntName]) { // IE < 9\n\t\t\t\t\t\tevntObj.evntElement.fireEvent('on' + evntObj.eventType, evntObj); // can only fire real events (such as 'click')\n\t\t\t\t\t} else if (evntObj.evntElement[evntObj.evntName]) {\n\t\t\t\t\t\tevntObj.evntElement[evntObj.evntName]();\n\t\t\t\t\t} else if (evntObj.evntElement['on' + evntObj.evntName]) {\n\t\t\t\t\t\tevntObj.evntElement['on' + evntObj.evntName]();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* /Event Handling utility */\n\t\t};\n\n\t/* @public */\n\tgest.prototype.start = function () {\n\t\tuserHasAskedToStart = true;\n\n\t\t//so, the user wants us to start, but are we ready to? Stop, if we're not. This will get called again when we are ready.\n\t\tif (!gestIsInitialised) { return false; }\n\n\t\t//check to see if we are already running\n\t\tif (!video || !(video.paused || video.ended || video.seeking || video.readyState < video.HAVE_FUTURE_DATA)) {\n\t\t\tconsole.error('lala')\n\t\t\tthrowError(2);\n\t\t\treturn false;\n\t\t}\n\n\t\tnavigator.getUserMedia(\n\t\t\t// constraints\n\t\t\t{\n\t\t\t\taudio: false,\n\t\t\t\tvideo: true\n\t\t\t},\n\n\t\t\t// successCallback\n\t\t\tfunction (_LocalMediaStream) {\n\t\t\t\tstream = _LocalMediaStream;\n\n\t\t\t\twindow.URL = window.URL || window.webkitURL;\n\t\t\t\tvideo.srcObject = stream;\n\n\t\t\t\tutils.addEventListener('canplaythrough', video,\n\t\t\t\t\t//play the video once it can play through\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tvideo.play();\n\n\t\t\t\t\t\tutils.addEventListener('playing', video,\n\t\t\t\t\t\t\tfunction () {\n\n\t\t\t\t\t\t\t\tvar width = Math.floor(video.getBoundingClientRect().width / settings.videoCompressionRate),\n\t\t\t\t\t\t\t\t\theight = Math.floor(video.getBoundingClientRect().height / settings.videoCompressionRate);\n\n\t\t\t\t\t\t\t\t//define canvas sizes\n\t\t\t\t\t\t\t\tcanvas.width = width;\n\t\t\t\t\t\t\t\tcanvas.height = height;\n\n\t\t\t\t\t\t\t\t//capture frames on set intervals\n\t\t\t\t\t\t\t\tsetInterval(function () { grabVideoFrame(width, height); }, 1000 / settings.framerate);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\t// errorCallback\n\t\t\tfunction (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tif (error.PERMISSION_DENIED || error.name === 'PERMISSION_DENIED') {\n\t\t\t\t\tthrowError(10, error);\n\t\t\t\t} else if (error.NOT_SUPPORTED_ERROR || error.name === 'NOT_SUPPORTED_ERROR') {\n\t\t\t\t\tthrowError(11, error);\n\t\t\t\t} else if (error.MANDATORY_UNSATISFIED_ERROR || error.name === 'MANDATORY_UNSATISFIED_ERROR') {\n\t\t\t\t\tthrowError(12, error);\n\t\t\t\t} else {\n\t\t\t\t\tthrowError(13, error);\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn !!navigator.getUserMedia;\n\t};\n\n\t/* @public */\n\tgest.prototype.stop = function () {\n\t\tif (!gestIsInitialised || !userHasAskedToStart) { return false; }\n\n\t\tif (video) {\n\t\t\tconsole.log('stop video')\n\t\t\tvideo.src = '';\n\t\t}\n\n\t\tuserHasAskedToStart = false;\n\t\tsettings.debug.canvas.remove();\n\t\tsettings.debug.canvas = null;\n\t\tsettings.debug.context = null;\n\n\t\treturn stream ? !!(stream.getTracks()[0].stop()) : true;\n\t};\n\n\t/* @public */\n\tgest.prototype.options = {\n\t\tsubscribeWithCallback: function (callback) {\n\t\t\tif (callback) {\n\t\t\t\tutils.addEventListener('gest', document, function (gesture) {\n\t\t\t\t\tcallback(gesture);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tsensitivity: function (_value) {\n\t\t\tif (_value >= 100) {\n\t\t\t\tsettings.sensitivity = 100;\n\t\t\t} else if (_value <= 0) {\n\t\t\t\tsettings.sensitivity = 0;\n\t\t\t} else {\n\t\t\t\tsettings.sensitivity = _value;\n\t\t\t}\n\t\t},\n\t\tdebug: function (_state) {\n\t\t\tsettings.debug.state = _state;\n\n\t\t\tdocument.getElementById('gest').innerHTML = '';\n\n\t\t\tif (_state) {\n\t\t\t\t//for visualising the diff map\n\t\t\t\tsettings.debug.canvas = document.createElement('canvas');\n\t\t\t\tsettings.debug.canvas.setAttribute('style', 'width: 100%; height: 100%; display: block; position: absolute; top: 0; left: 0;');\n\t\t\t\t// document.body.appendChild(settings.debug.canvas);\n\t\t\t\tdocument.getElementById('gest').appendChild(settings.debug.canvas);\n\t\t\t\tsettings.debug.context = settings.debug.canvas.getContext('2d');\n\n\t\t\t\tsettings.debug.canvas.setAttribute('style', 'width: 480px; display: block;');\n\t\t\t\t//video.setAttribute('style', 'visibility: visible');\n\t\t\t\t//canvas.setAttribute('style', 'visibility: visible');\n\t\t\t} else {\n\t\t\t\tsettings.debug.canvas.setAttribute('style', 'display: none;');\n\t\t\t\tsettings.debug.canvas.parentNode.removeChild(settings.debug.canvas);\n\t\t\t\t// video.setAttribute('style', 'visibility: hidden');\n\t\t\t\t// canvas.setAttribute('style', 'visibility: hidden');\n\t\t\t}\n\n\t\t\treturn settings.debug;\n\t\t},\n\t\tskinFilter: function (_state) {\n\t\t\tsettings.skinFilter = _state;\n\t\t}\n\t};\n\n\tmodule.exports = gest;\n\n\treturn new gest();\n}(window));\n","\nconst musikSchalter = document.getElementById('musik-schalter');\n\nconst songPlayer = document.getElementById('tetris-song');\n\nlet musikAn = false;\n\nconst audioSchalterGedruckt = () => {\n    if (!musikAn) {\n        musikAn = true;\n        songPlayer.play();\n        musikSchalter.classList.add('aktiv');\n    } else {\n        musikAn = false;\n        songPlayer.pause();\n        musikSchalter.classList.remove('aktiv');\n    }\n};\n\nObject.assign(window, { audioSchalterGedruckt })","/**\n * Die Bausteine im Tetris werden Tetrominos benannt. \n * In der original Variante des Spiels wurden sieben Tetrominos definiert. \n * Die Tetrominos werden Aufgrund ihrer Ähnlichkeit mit den lateinischen Buchstaben (T, I, O, L, J, S, Z) angesprochen.\n */\n\nconst O =  [\n    [1, 1],\n    [1, 1],\n];\n\nconst I = [\n    [0, 2, 0, 0],\n    [0, 2, 0, 0],\n    [0, 2, 0, 0],\n    [0, 2, 0, 0]\n];\n\nconst L = [\n    [0, 3, 0],\n    [0, 3, 0],\n    [0, 3, 3]\n];\n\nconst J = [\n    [0, 4, 0],\n    [0, 4, 0],\n    [4, 4, 0]\n];\n\nconst S = [\n    [0, 0, 0],\n    [0, 5, 5],\n    [5, 5, 0]\n];\n\nconst Z = [\n    [0, 0, 0],\n    [6, 6, 0],\n    [0, 6, 6]\n];\n\nconst T = [\n    [0, 0, 0],\n    [7, 7, 7],\n    [0, 7, 0]\n];\n\nexport {\n    O,\n    I,\n    L,\n    J,\n    S,\n    Z,\n    T\n};\n","const kollidiertNachLinks = (welt, stein) => {\n    return !stein.muster.every((spaltenListe, zeile) => spaltenListe.every(\n        (tetroZelle, spalte) => {\n            // ist leer und kann nicht kollidieren.\n            if (tetroZelle === 0) {\n                return true;\n            }\n\n            const y = stein.zeile + zeile;\n\n            // ist noch nicht auf der Welt und kann nicht kollidieren\n            if (y < 0) {\n                return true;\n            }\n\n            const x = stein.spalte + spalte;\n\n            // ist am linken Rand und kann nicht weiter nach Links\n            if (x <= 0) {\n                return false;\n            }\n\n            // andere Fällen werden noch nicht geprüft\n            return true;\n        }\n    ));\n};\n\nconst kollidiertNachRechts = (welt, stein) => {\n    return !stein.muster.every((spaltenListe, zeile) => spaltenListe.every(\n        (tetroZelle, spalte) => {\n            // ist leer und kann nicht kollidieren.\n            if (tetroZelle === 0) {\n                return true;\n            }\n\n            const y = stein.zeile + zeile;\n\n            // ist noch nicht auf der Welt und kann nicht kollidieren\n            if (y < 0) {\n                return true;\n            }\n\n            const x = stein.spalte + spalte;\n\n            // ist am rechten Rand und kann nicht weiter nach Rechts\n            if (x >= welt[0].length - 1) {\n                return false;\n            }\n\n            // andere Fällen werden noch nicht geprüft\n            return true;\n        }\n    ));\n};\n\nconst kollidiertNachUnten = (welt, stein) => {\n    return !stein.muster.every((spaltenListe, zeile) => {\n\n        const naechsteWeltZeile = (stein.zeile + zeile + 1);\n\n        // Zeile ist nicht auf der Welt und Stein liegt zu weit oben.\n        if (naechsteWeltZeile < 0) {\n            return true;\n        }\n\n        // Tetro zeile ist leer und kann nicht kollidieren\n        if (spaltenListe.every((zelle) => zelle === 0)) {\n            return true;\n        }\n\n        // Tetro ist am unteren Rand und kann nicht weiter nach Unten.\n        if (naechsteWeltZeile >= welt.length) {\n            return false;\n        }\n\n        return spaltenListe.every((tetroZelle, spalte) => {\n            const weltSpalte = stein.spalte + spalte;\n\n            // Spalte ist Links oder Rechts vom Rand und kann nicht kollidieren. \n            if (weltSpalte < 0 || weltSpalte >= welt[0].length) {\n                return true;\n            }\n\n            const weltZelle = welt[naechsteWeltZeile][weltSpalte];\n\n            // Tetrozelle oder Weltzelle muss 0 sein! \n            return (weltZelle * tetroZelle) === 0;\n        });\n\n    });\n};\n\nconst kollidiert = (welt, stein) => {\n    return !stein.muster.every((spaltenListe, zeile) => spaltenListe.every(\n        (tetroZelle, spalte) => {\n            // ist leer und kann nicht kollidieren.\n            if (tetroZelle === 0) {\n                // console.log('ist leer und kann nicht kollidieren.');\n                return true;\n            }\n\n            const y = stein.zeile + zeile;\n\n            // ist noch nicht auf der Welt und kann nicht kollidieren\n            if (y < 0) {\n                // console.log('ist noch nicht auf der Welt und kann nicht kollidieren');\n                return true;\n            }\n\n            const x = stein.spalte + spalte;\n\n            // ist am rechten Rand und kann nicht weiter nach Rechts\n            if (x <= 0 || x >= welt[0].length - 1 || y >= welt.length) {\n                // console.log('ist am rechten Rand und kann nicht weiter nach Rechts');\n                return false;\n            }\n\n            const weltZelle = welt[y][x];\n            console.log('Entweder weltZelle oder tetroZelle ist 0 ->', weltZelle , tetroZelle);\n            return (weltZelle * tetroZelle) === 0;\n        }\n    ));\n};\n\nexport {\n    kollidiertNachUnten,\n    kollidiertNachRechts,\n    kollidiertNachLinks,\n    kollidiert\n};","import {\n    kollidiertNachUnten, \n    kollidiertNachRechts, \n    kollidiertNachLinks, \n    kollidiert\n} from \"./Kollision\";\n\nclass Tetromino {\n\n    constructor(zeile, spalte, muster) {\n        this.zeile = zeile;\n        this.spalte = spalte;\n        this.muster = muster;\n    }\n\n    nachLinks() {\n        this.spalte = (this.spalte - 1);\n    }\n\n    nachRechts() {\n        this.spalte = (this.spalte + 1);\n    }\n\n    nachUnten() {\n        this.zeile = (this.zeile + 1);\n    }\n\n    /**\n     * @TODO Implementiere diese Methode zu ende.\n     *       - Keep it simple, aber du darfst auf kollisionen Prüfen, s. `kollidiert`  \n     */\n    drehen(welt) {\n        const laenge = this.muster.length;\n        const muster = [];\n\n        for (let zeile = 0; zeile < laenge; zeile++) {\n            const neueZeile = [];\n            for (let spalte = 0; spalte < laenge; spalte++) {\n                neueZeile.push(this.muster[spalte][zeile]);\n            }\n            muster.push(neueZeile.reverse());\n        }\n        \n        const zeile = this.zeile;\n        const spalte = this.spalte;\n        if (kollidiert(welt, { muster, zeile, spalte })) {\n            return;\n        }\n\n        this.muster = muster;\n    }\n\n    // prüft ob das Tetromino sich auf dem gegebenen Koordinaten befindet.\n    istAufZelle(zeile, spalte) {\n        return !this.istNichtAufZelle(zeile, spalte);\n    }\n\n    // prüft ob das Tetromino sich nicht auf dem gegebenen Koordinaten befindet.\n    istNichtAufZelle(zeile, spalte) {\n        const y = zeile - this.zeile;\n        const x = spalte - this.spalte;\n    \n        return y < 0\n            || zeile >= (this.zeile + this.muster.length)\n            || x < 0\n            || spalte >=  (this.spalte + this.muster.length);\n    }\n\n    // gibt die Zelle vom Tetromuster zurück welche sich auf dem gegebenen Koordinaten befindet.\n    zelle(zeile, spalte) {\n        const y = zeile - this.zeile;\n        const x = spalte - this.spalte;\n\n        return this.muster[y][x];\n    }\n\n    kannNachLinks(welt) {\n        return !kollidiertNachLinks(welt, this);\n    }\n\n    kannNachRechts(welt) {\n        return !kollidiertNachRechts(welt, this);\n    }\n\n    kannNachUnten(welt) {\n        return !kollidiertNachUnten(welt, this);\n    }\n}\n\nexport default Tetromino;\n","\nconst weltContainer = document.getElementById('welt');\n\nconst tetroVoschauContainer = document.getElementById('vorschau');\n\nconst punkteContainer = document.getElementById('punkte');\n\nconst zeilenAnzahlContainer = document.getElementById('zeilen-total');\n\nconst levelContainer = document.getElementById('level');\n\n// Erzeugt die `welt` Matrix\nconst weltErzeugen = (hoehe, breite) => {\n    return (new Array(hoehe)).fill((new Array(breite)).fill(0));\n};\n\n// initialisiert den Weltraster\nconst weltContainerInitialisieren = (welt, prefix) => {\n    weltContainer.innerHTML = welt\n        .map(\n            (zellen, y) => zellen.reduce(\n                (spalten, _, x) => `${spalten}<div id=\"${prefix}_${y}-${x}\" class=\"tetro\"></div>`, ''\n            )\n        )\n        .join('<br>');\n};\n\nconst tetroVorschauContainerInitialisieren = (prefix) => {\n    const raster = weltErzeugen(4, 4);\n    tetroVoschauContainer.innerHTML = raster\n        .map(\n            (zellen, y) => zellen.reduce(\n                (spalten, _, x) => `${spalten}<div id=\"${prefix}_${y}-${x}\" class=\"tetro\"></div>`, ''\n            )\n        )\n        .join('<br>');\n};\n\nconst tetroStyleNamen = {\n    1: 'O',\n    2: 'I',\n    3: 'L',\n    4: 'J',\n    5: 'S',\n    6: 'Z',\n    7: 'T'\n};\n\n// aktualisiert die Darstellung auf dem Browser\nconst weltRasterAktualisieren = (welt, tetro, prefix) => {\n    for (let zeile = 0; zeile < welt.length; zeile++) {\n        for (let spalte = 0; spalte < welt[0].length; spalte++) {\n            const zelle = document.getElementById(`${prefix}_${zeile}-${spalte}`);\n            zelle.classList.remove('gefuellt', 'O', 'I', 'L', 'J', 'S', 'Z', 'T');\n            \n            if (tetro.istAufZelle(zeile, spalte)) {\n                const tetroZelle = tetro.zelle(zeile, spalte);\n                if (tetroZelle > 0)\n                    zelle.classList.add(tetroStyleNamen[tetroZelle], 'gefuellt');\n            }\n\n            const weltZelle = welt[zeile][spalte];\n            if (weltZelle > 0)\n                zelle.classList.add(tetroStyleNamen[weltZelle], 'gefuellt');\n        }\n    }\n};\n\n// aktualisiert die Vorschaubox\nconst tetroVorschauAktualisieren = ({ muster }, prefix) => {\n    for (let zeile = 0; zeile < 4; zeile++) {\n        const y = muster.length - 1 - zeile;\n        for (let spalte = 0; spalte < 4; spalte++) {\n            const zelle = document.getElementById(`${prefix}_${3 - zeile}-${spalte}`);\n            zelle.classList.remove('gefuellt', 'O', 'I', 'L', 'J', 'S', 'Z', 'T');\n            \n            if (zeile >= muster.length || spalte >= muster.length) {\n                zelle.className = 'tetro';\n                continue;\n            }\n\n            const tetroZelle = muster[y][spalte];\n            if (tetroZelle > 0)\n                zelle.classList.add(tetroStyleNamen[tetroZelle], 'gefuellt');\n        }\n    }\n};\n\nconst tetroAufWeltAblegen = (welt, { spalte, zeile, muster }) => {\n    return welt.map((spaltenList, y) => {\n        const tetroZeile = (y - zeile);\n        \n        return spaltenList.map((weltZelle, x) => {\n            const tetroSpalte = (x - spalte);\n            \n            if (tetroZeile < 0\n                || tetroZeile >= muster.length\n                || tetroSpalte < 0\n                || tetroSpalte >= muster.length) {\n                return weltZelle;\n            }\n\n            const tetroZelle = muster[tetroZeile][tetroSpalte];\n            \n            return tetroZelle !== 0 ? tetroZelle : weltZelle;\n        });\n\n    });\n};\n\nconst findeVolleZeilen = (welt) => welt.reduce((_volleZeilen, spaltenListe, zeile) => {\n    if (spaltenListe.some((spalte) => spalte === 0)) {\n        return _volleZeilen;\n    }\n\n    return [..._volleZeilen, zeile];\n}, []);\n\n// löscht eine Zeile im gegebenen `index` und fügt eine neue Zeile am Anfang hinzu.\nconst loescheWeltZeile = (index, tetris) => {\n    const neueZeile = (new Array(tetris.breite)).fill(0);\n    tetris.welt.splice(index, 1);\n    tetris.welt = [neueZeile, ...tetris.welt];\n    tetris.aktualisieren();\n}\n\n// aktualisiert alle Anzeigen zum Spiel mit den gegebenen Werte.\nconst spielAnzeigenAktualisieren = (punkte, zeilen, level) => {\n    punkteContainer.innerText = `00000000${punkte}`.substr(-7);\n    zeilenAnzahlContainer.innerText = `00000000${zeilen}`.substr(-7);\n    levelContainer.innerText = `00000000${level}`.substr(-7);\n}\n\nexport {\n    weltContainer,\n    weltErzeugen,\n    weltContainerInitialisieren,\n    weltRasterAktualisieren,\n    tetroAufWeltAblegen,\n    tetroVorschauContainerInitialisieren,\n    tetroVorschauAktualisieren,\n    findeVolleZeilen,\n    loescheWeltZeile,\n    spielAnzeigenAktualisieren,\n}\n","require('gest');\n\nconst gest = window.gest;\n\nconst kameraSchalter = document.getElementById('kamera-schalter');\n\nlet kameraAn = false;\n\nlet gestenHaendler = null;\n\nconst gestenHandlerSetzen = (haendler) => {\n    gestenHaendler = haendler;\n};\n\nconst gestenHandlerLoeschen = () => {\n    gestenLauschBeenden();\n    gestenHaendler = null;\n}\n\nconst kameraSchalterGedruckt = () => {\n    if (!kameraAn) {\n        gestenLauschStarten();\n        kameraSchalter.classList.add('aktiv');\n    } else {\n        gestenLauschBeenden();\n        kameraSchalter.classList.remove('aktiv');\n    }\n};\n\nconst gestenLauschStarten = () => {\n    if (!gestenHaendler) {\n        console.warn('Kamera einschalten oder Gesten-Händler definieren!');\n        return;\n    }\n    \n    document.addEventListener('gest', gestenHaendler);\n    gest.start();\n    gest.options.debug(true);\n    kameraAn = true;\n};\n\nconst gestenLauschBeenden = () => {\n    if (!gestenHaendler) {\n        console.warn('Kamera einschalten oder Gesten-Händler definieren!');\n        return;\n    }\n\n    document.removeEventListener('gest', gestenHaendler);\n    gest.stop();\n    kameraAn = false;\n};\n\nObject.assign(window, { kameraSchalterGedruckt });\n\nexport {\n    gest,\n    gestenLauschStarten,\n    gestenLauschBeenden,\n    gestenHandlerSetzen,\n    gestenHandlerLoeschen,\n    kameraSchalterGedruckt,\n};\n","import * as Bausteine from './Figuren';\nimport Tetromino from './Tetromino';\nimport {\n    weltErzeugen, \n    weltContainerInitialisieren,\n    weltRasterAktualisieren,\n    tetroAufWeltAblegen,\n    tetroVorschauContainerInitialisieren,\n    tetroVorschauAktualisieren,\n    findeVolleZeilen,\n    loescheWeltZeile,\n    spielAnzeigenAktualisieren\n} from './Welt';\nimport {\n    gestenHandlerSetzen,\n    gestenHandlerLoeschen\n} from './GestenAdapter';\n\n// Standartwerte, können später überschrieben werden.\nconst defaultOptions = {\n    hoehe: 16,\n    breite: 10,\n    weltZellenPrefix: 'welt_',\n    vorschauZellenPrefix: 'vorschau_',\n    containerId: 'tetris',\n    naechsteTetroId: 'vorschau',\n    punkteId: 'punkte',\n    zeilenTotalId: 'zeilen-total'\n};\n\n// Generiert ein zufälligen Tetromino-Objekt \nconst zufaelligenBaustein = () => {\n    const steine = Object.keys(Bausteine);\n    const zufaelligenStein = steine[Math.floor(Math.random() * steine.length)];\n    const tetromino = Bausteine[zufaelligenStein];\n    \n    return new Tetromino(1 - tetromino.length, 3, tetromino);\n};\n\nclass Tetris {\n\n    // Initialisierung\n    constructor(options = {}) {\n        Object.assign(this, defaultOptions, options);\n\n        this.welt = weltErzeugen(this.hoehe, this.breite);\n        weltContainerInitialisieren(this.welt, this.weltZellenPrefix);\n        tetroVorschauContainerInitialisieren(this.vorschauZellenPrefix);\n    }\n\n    // Spiel starten\n    starten() {\n        if (this.gestartet) {\n            return;\n        }\n\n        this.gestartet = true;\n\n        this.punkte = 0;\n        this.zeilenAnzahl = 0;\n        this.level = 1;\n        this.tetro = zufaelligenBaustein();\n        this.naechstesTetro = zufaelligenBaustein();\n\n        this.spielZeitSchleife();\n        this.aktualisieren();\n\n        this.tastenLauscher = this.tastenEventsBehandeln.bind(this);\n        document.addEventListener('keyup', this.tastenLauscher);\n        gestenHandlerSetzen(this.gestenEventsBehandeln.bind(this));\n    }\n\n    // Darstellungskomponente aktualisieren\n    aktualisieren() {\n        weltRasterAktualisieren(this.welt, this.tetro, this.weltZellenPrefix);\n        tetroVorschauAktualisieren(this.naechstesTetro, this.vorschauZellenPrefix);\n        spielAnzeigenAktualisieren(this.punkte, this.zeilenAnzahl, this.level);\n    }\n\n    gameOver() {\n        if (!this.gestartet) {\n            return;\n        }\n\n        this.gestartet = false;\n        \n        this.stopZeitSchleife();\n        document.removeEventListener('keyup', this.tastenLauscher);\n        gestenHandlerLoeschen();\n    }\n\n    // Loop ausführen\n    spielZeitSchleife() {\n        if (!this.gestartet) { return; }\n\n        if (this.tetro.kannNachUnten(this.welt)) {\n            this.tetro.nachUnten();\n        } else {\n            this.tetroAblegen();\n        }\n        \n        this.aktualisieren();\n        this.zeitSchleife = setTimeout(\n            this.spielZeitSchleife.bind(this),\n            this.levelGeschwindigkeit()\n        );\n    }\n\n    // f(x) = 1300 / ( x * 0.95 ) + 70 , wobei 'x' das aktuelle level ist.\n    levelGeschwindigkeit() {\n        return Math.floor(1300 / ( this.level * 0.95 ) + 70);\n    }\n\n    // Loop stoppen\n    stopZeitSchleife() {\n        if (this.zeitSchleife) {\n            this.zeitSchleife = clearTimeout(this.zeitSchleife);\n        }\n    }\n\n    tetroNachLinksBewegen () {\n        if (this.tetro.kannNachLinks(this.welt)) {\n            this.tetro.nachLinks();\n        }\n    }\n    \n    tetroNachRechtsBewegen() {\n        if (this.tetro.kannNachRechts(this.welt)) {\n            this.tetro.nachRechts();\n        }\n    }\n\n    tetroNachUntenBewegen() {\n        console.log('tetroNachUntenBewegen');\n    }\n\n    // Tetromino solange nach unten verschieben bis es kollidiert.\n    tetroNachUntenSchieben() {\n        this.stopZeitSchleife();\n        if (!this.tetro.kannNachUnten(this.welt)) {\n            this.tetroAblegen();\n            this.spielZeitSchleife();\n            return;\n        }\n\n        this.tetro.nachUnten();\n        this.aktualisieren();\n        setTimeout(this.tetroNachUntenSchieben.bind(this), 40);\n    }\n\n    // Tetromino auf `welt` ablegen\n    tetroAblegen() {\n        if (this.tetro.zeile <= 0 && this.tetro.muster[0].some((spalte) => spalte !== 0)) {\n            this.gameOver();\n            return;\n        }\n\n        this.punkte += 10;\n\n        // f(x) = 1 + (x / 2000) , wobei 'x' den aktuellen Highscore ist.\n        this.level = Math.floor(1 + ( this.punkte / 2000));\n\n        this.welt = tetroAufWeltAblegen(this.welt, this.tetro);\n        this.gefuellteZeilenLoeschen();\n        \n        this.aktualisieren();\n\n        this.tetro = this.naechstesTetro;\n        this.naechstesTetro = zufaelligenBaustein();\n    }\n\n    // Gefüllte Zeilen löschen\n    gefuellteZeilenLoeschen() {\n        const tetris = this;\n        const volleZeilen = findeVolleZeilen(this.welt);\n\n        volleZeilen.forEach((index, counter) => {\n            tetris.welt.splice(index, 1, (new Array(tetris.breite)).fill(10));\n            \n            this.punkte += (this.breite * 20);\n            this.zeilenAnzahl++;\n\n            tetris.aktualisieren();\n            setTimeout(() => { loescheWeltZeile(index, this); }, 70 + (70 * counter));\n        });\n    }\n\n    // Behandlung der Tastatur-Events\n    tastenEventsBehandeln() {\n        switch (event.keyCode) {\n            case 37:\n                this.tetroNachLinksBewegen();\n                break;\n            case 39:\n                this.tetroNachRechtsBewegen();\n                break;\n            case 38:\n                this.tetro.drehen(this.welt);\n                break;\n            case 40:\n                this.tetroNachUntenSchieben();\n                break;\n            default:\n                console.log(event.keyCode);\n        }\n        \n        this.aktualisieren();\n    }\n\n    gestenEventsBehandeln(geste) {\n        console.log(geste.direction);\n\n        switch(geste.direction) {\n            case 'Long up':\n            case 'Up':\n                this.tetro.drehen(this.welt);\n                break;\n            case 'Long left':\n            case 'Left':\n                this.tetroNachLinksBewegen();\n                break;\n            case 'Long right':\n            case 'Right':\n                this.tetroNachRechtsBewegen();\n                break;\n            case 'Long down':\n            case 'Down':\n                this.tetroNachUntenSchieben();\n                break;\n            default:\n                console.log(geste.direction);\n        }\n\n        this.aktualisieren();\n    }\n}\n\nexport default Tetris;\n","import '../darstellung/tetris.scss';\n\nimport Tetris from './Tetris';\nimport './AudioSpieler';\n\nconst tetris = new Tetris();\ntetris.starten();\n\n"],"sourceRoot":""}